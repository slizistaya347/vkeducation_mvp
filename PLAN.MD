# Декомпозиция проекта: MVP магазина приложений на Android

## Epic 1: Базовый проект и список приложений (1.5 недели)

**Зачем нужен эпик:** Без списка приложений магазин не работает. Это первое, что видит пользователь.

### Задача 1: Настроить проект и создать экран списка (8 часов)
- **Создать новый проект в Android Studio (1ч)** — без проекта не начнешь разработку
- **Добавить RecyclerView на главный экран (2ч)** — RecyclerView нужен для отображения большого списка приложений
- **Создать layout для элемента списка (item_app.xml) (2ч)** — каждый элемент списка должен выглядеть одинаково
- **Подготовить тестовые данные в массиве (3ч)** — чтобы было что показывать, пока нет настоящих данных

### Задача 2: Сделать Adapter для списка (6 часов)
- **Создать класс AppAdapter (2ч)** — Adapter связывает данные с RecyclerView
- **Реализовать ViewHolder (2ч)** — ViewHolder кеширует view для быстрой работы списка
- **Привязать данные к элементам списка (2ч)** — чтобы в списке отображались названия и иконки приложений

### Задача 3: Добавить модель данных (4 часа)
- **Создать data class AppItem (2ч)** — нужна структура для хранения информации о приложении
- **Добавить поля: название, иконка, описание, packageName, apkPath (2ч)** — packageName нужен для проверки установки, apkPath для пути к APK

### Задача 4: Сделать загрузку данных (6 часов)
- **Создать класс AppRepository с мок-данными (2ч)** — Repository управляет данными, моки нужны для тестирования
- **Добавить ViewModel для списка (2ч)** — ViewModel хранит данные и переживает смену конфигурации
- **Связать ViewModel с Activity/Fragment (2ч)** — чтобы данные из ViewModel отображались на экране

---

## Epic 2: Карточка приложения (1 неделя)

**Зачем нужен эпик:** Пользователь должен видеть подробную информацию о приложении перед установкой.

### Задача 1: Создать экран деталей (6 часов)
- **Создать AppDetailActivity (1ч)** — нужен отдельный экран для подробной информации
- **Сделать layout activity_app_detail.xml (2ч)** — макет должен отображать все данные приложения
- **Добавить передачу данных через Intent (3ч)** — чтобы открывать карточку конкретного приложения из списка

### Задача 2: Отобразить информацию в карточке (6 часов)
- **Вывести название и иконку приложения (2ч)** — пользователь должен видеть, какое приложение открыл
- **Добавить описание приложения (2ч)** — пользователь читает описание, чтобы понять, нужно ли ему приложение
- **Показать рейтинг (RatingBar) (2ч)** — рейтинг помогает выбрать качественное приложение

### Задача 3: Добавить кнопки действий (4 часа)
- **Добавить кнопку "Установить" (2ч)** — основное действие в магазине приложений
- **Добавить кнопку "Удалить" (2ч)** — чтобы удалять установленные приложения

---

## Epic 3: Установка приложений (реальная) (1.5 недели)

**Зачем нужен эпик:** Без установки магазин приложений бесполезен.

### Задача 1: Подготовить APK файлы и разрешения (6 часов)
- **Добавить разрешение в манифест (1ч)** — без разрешения Android не даст устанавливать
- **Скачать тестовые APK в папку приложения (3ч)** — нужны реальные файлы для установки
- **Проверить наличие файлов перед установкой (2ч)** — чтобы не пытаться установить отсутствующий файл

### Задача 2: Реализовать установку через системный установщик (8 часов)
- **Создать Intent для установки APK (3ч)** — стандартный способ установки в Android
- **Обработать результат установки (onActivityResult) (3ч)** — узнать, установилось или нет
- **Обновить статус приложения после установки (2ч)** — пометить как установленное

### Задача 3: Проверять установленные приложения (4 часа)
- **Использовать PackageManager (2ч)** — системный способ проверки установленных приложений
- **Определять, установлено ли наше приложение (2ч)** — по package name

### Задача 4: Обновление интерфейса после установки (4 часа)
- **Менять текст кнопки на "Открыть" для установленных (2ч)** — чтобы пользователь видел разницу
- **Обновлять RecyclerView после установки (2ч)** — список должен обновляться без перезапуска приложения

---

## Epic 4: Удаление приложений (реальное) (1 неделя)

**Зачем нужен эпик:** Пользователь должен уметь удалять ненужные приложения.

### Задача 1: Реализовать удаление через системный диалог (6 часов)
- **Создать Intent для удаления (3ч)** — стандартный способ удаления в Android
- **Обработать результат удаления (3ч)** — узнать, удалилось или нет

### Задача 2: Управление состоянием после удаления (4 часа)
- **Удалить приложение из списка установленных (2ч)** — после удаления приложение не должно считаться установленным
- **Обновлять кнопки в карточке (2ч)** — после удаления кнопка должна снова стать "Установить"

---

## Epic 5: Доработка и финальная сборка (1 неделя)

**Зачем нужен эпик:** Довести MVP до рабочего состояния и подготовить к сдаче.

### Задача 1: Улучшить список приложений (6 часов)
- **Добавить поиск по названию (3ч)** — пользователь должен быстро находить нужные приложения
- **Сделать сортировку по рейтингу (3ч)** — чтобы лучшие приложения были вверху списка

### Задача 2: Протестировать приложение (6 часов)
- **Проверить установку/удаление на разных сценариях (3ч)** — убедиться, что основные функции работают правильно
- **Исправить найденные баги (3ч)** — убрать ошибки перед сдачей проекта

### Задача 3: Подготовить к сдаче (2 часа)
- **Собрать APK (1ч)** — нужен файл для установки на устройство
- **Проверить на эмуляторе (1ч)** — убедиться, что приложение запускается

---

## Структура проекта

```text
vkeducation_mvp/
├── app/
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/example/vkeducation_mvp/
│   │   │   │   ├── MainActivity.kt                    # Экран списка
│   │   │   │   ├── AppDetailActivity.kt               # Экран карточки
│   │   │   │   ├── data/
│   │   │   │   │   ├── model/
│   │   │   │   │   │   └── AppItem.kt                # Модель данных (Epic 1, задача 3)
│   │   │   │   │   └── repository/
│   │   │   │   │       └── AppRepository.kt          # Хранение данных (Epic 1, задача 4)
│   │   │   │   ├── ui/
│   │   │   │   │   ├── list/
│   │   │   │   │   │   ├── AppAdapter.kt             # Адаптер списка (Epic 1, задача 2)
│   │   │   │   │   │   └── AppListViewModel.kt       # ViewModel списка (Epic 1, задача 4)
│   │   │   │   │   └── detail/
│   │   │   │   │       └── AppDetailViewModel.kt     # ViewModel карточки
│   │   │   │   └── installer/
│   │   │   │       └── AppInstaller.kt               # Установка/удаление (Epic 3-4)
│   │   │   ├── res/
│   │   │   │   ├── layout/
│   │   │   │   │   ├── activity_main.xml            # Главный экран (Epic 1, задача 1)
│   │   │   │   │   ├── activity_app_detail.xml      # Экран деталей (Epic 2, задача 1)
│   │   │   │   │   └── item_app.xml                 # Элемент списка (Epic 1, задача 1)
│   │   │   │   ├── values/
│   │   │   │   │   └── strings.xml
│   │   │   │   └── raw/
│   │   │   │       ├── app1.apk                     # Тестовые APK (Epic 3, задача 1)
│   │   │   │       ├── app2.apk
│   │   │   │       └── app3.apk
│   │   │   └── AndroidManifest.xml                  # Разрешения (Epic 3, задача 1)
├── build.gradle
└── settings.gradle```
